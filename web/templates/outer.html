<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8"><title>AI Agent + VNC</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>

  <iframe id="vnc_frame" src="{{ vnc_url }}" style="width:100%;height:80vh;border:none;"></iframe>

  <div id="chat-controls">
    <button id="stop-button">停止</button>
    <button id="history-toggle">ログ</button>
  </div>
  <div id="operation-history"></div>

  <!-- ===== チャット UI（ブラウザ側のみ） ===== -->
  <div id="draggable-window">
    <div id="window-header"><span>チャット</span><div class="close-btn" onclick="closeWindow()">×</div></div>
    <div id="chat-area"><p class="bot-message">こんにちは！</p></div>
    <div id="input-area">
      <select id="model-select" style="height:38px;">
        <option value="gemini">Gemini</option>
        <option value="groq">Groq</option>
      </select>
      <textarea id="user-input" rows="6" placeholder="ここに入力..."></textarea>
      <button>送信</button>
    </div>
  </div>
  <div id="hidden-browser-executor" style="display:none;">

    <textarea id="nlCommand"></textarea><button id="executeButton">実行</button>
    <pre id="logOutput"></pre>
  </div>

  <script src="/static/common_executor.js"></script>
  <script src="/static/browser_executor.js"></script>
  <script src="/static/chat_integration.js"></script>
  <script src="/static/script.js"></script>
</body>
</html>
